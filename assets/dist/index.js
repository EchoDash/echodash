(()=>{"use strict";var e={338:(e,t,a)=>{var r=a(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};const a=window.React;var r=function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}(338);const n={integrations:window.ecdReactData?.integrations||[],currentIntegration:null,triggers:{},settings:null,previewData:null,notifications:[],loading:{integrations:!1,triggers:!1,saving:!1,settings:!1},errors:{}},i=(e,t)=>{switch(t.type){case"SET_INTEGRATIONS":return{...e,integrations:t.payload};case"SET_CURRENT_INTEGRATION":return{...e,currentIntegration:t.payload};case"SET_TRIGGERS":return{...e,triggers:{...e.triggers,[t.payload.slug]:t.payload.triggers}};case"SET_LOADING":return{...e,loading:{...e.loading,[t.payload.key]:t.payload.value}};case"SET_ERROR":return{...e,errors:{...e.errors,[t.payload.key]:t.payload.value}};case"UPDATE_INTEGRATION":return{...e,integrations:e.integrations.map(e=>e.slug===t.payload.slug?t.payload:e)};case"UPDATE_TRIGGER":const a=e.triggers[t.payload.integrationSlug]||[];return{...e,triggers:{...e.triggers,[t.payload.integrationSlug]:a.map(e=>e.id===t.payload.trigger.id?t.payload.trigger:e)}};case"ADD_TRIGGER":return{...e,triggers:{...e.triggers,[t.payload.integrationSlug]:[...e.triggers[t.payload.integrationSlug]||[],t.payload.trigger]}};case"REMOVE_TRIGGER":return{...e,triggers:{...e.triggers,[t.payload.integrationSlug]:(e.triggers[t.payload.integrationSlug]||[]).filter(e=>e.id!==t.payload.triggerId)}};case"SET_SETTINGS":return{...e,settings:t.payload};case"UPDATE_SETTINGS":return{...e,settings:e.settings?{...e.settings,...t.payload}:null};case"SET_PREVIEW_DATA":return{...e,previewData:t.payload};case"ADD_NOTIFICATION":return{...e,notifications:[...e.notifications,t.payload]};case"REMOVE_NOTIFICATION":return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload)};case"CLEAR_ERRORS":return{...e,errors:{}};case"RESET_STATE":return n;default:return e}},s=(0,a.createContext)(void 0),o=({children:e})=>{const[t,r]=(0,a.useReducer)(i,n),o=(0,a.useCallback)(()=>`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),l=(0,a.useCallback)(e=>{r({type:"SET_CURRENT_INTEGRATION",payload:e})},[]),c=(0,a.useCallback)(e=>{r({type:"UPDATE_INTEGRATION",payload:e})},[]),g=(0,a.useCallback)((e,t)=>{r({type:"ADD_TRIGGER",payload:{integrationSlug:e,trigger:t}})},[]),d=(0,a.useCallback)((e,t)=>{r({type:"REMOVE_TRIGGER",payload:{integrationSlug:e,triggerId:t}})},[]),u=(0,a.useCallback)((e,t)=>{r({type:"SET_LOADING",payload:{key:e,value:t}})},[]),E=(0,a.useCallback)((e,t)=>{r({type:"SET_ERROR",payload:{key:e,value:t}})},[]),p=(0,a.useCallback)((e,t="info")=>{const a=o();r({type:"ADD_NOTIFICATION",payload:{id:a,message:e,type:t}}),"success"===t&&setTimeout(()=>{r({type:"REMOVE_NOTIFICATION",payload:a})},5e3)},[o]),y=(0,a.useCallback)(e=>{r({type:"REMOVE_NOTIFICATION",payload:e})},[]),m=(0,a.useCallback)(()=>{r({type:"CLEAR_ERRORS"})},[]);(0,a.useEffect)(()=>{t.currentIntegration&&m()},[t.currentIntegration,m]);const T={state:t,dispatch:r,setCurrentIntegration:l,updateIntegration:c,addTrigger:g,removeTrigger:d,setLoading:u,setError:E,addNotification:p,removeNotification:y,clearErrors:m};return(0,a.createElement)(s.Provider,{value:T},e)},l=window.wp.components,c=()=>{const{state:e}=(()=>{const e=(0,a.useContext)(s);if(void 0===e)throw new Error("useAppContext must be used within an AppProvider");return e})(),{integrations:t,loading:r}=e;return r.integrations?(0,a.createElement)("div",{className:"echodash-loading"},(0,a.createElement)("p",null,"Loading integrations...")):(0,a.createElement)("div",{className:"echodash-dashboard"},(0,a.createElement)("div",{className:"echodash-dashboard__header"},(0,a.createElement)("h1",{className:"echodash-title"},"EchoDash Integrations"),(0,a.createElement)("p",{className:"echodash-subtitle"},"Configure event tracking for your WordPress plugins")),(0,a.createElement)("div",{className:"echodash-integration-grid"},0===t.length?(0,a.createElement)(l.Card,null,(0,a.createElement)(l.CardBody,null,(0,a.createElement)("p",null,"No integrations available."))):t.map(e=>(0,a.createElement)(l.Card,{key:e.slug,className:"echodash-integration-card"},(0,a.createElement)(l.CardHeader,null,(0,a.createElement)(l.Flex,{align:"center",gap:3},(0,a.createElement)("div",{className:"integration-icon"},e.icon&&(0,a.createElement)("img",{src:e.icon,alt:e.name,width:24,height:24})),(0,a.createElement)("strong",{className:"integration-name"},e.name))),(0,a.createElement)(l.CardBody,null,(0,a.createElement)(l.Flex,{justify:"space-between",align:"center"},(0,a.createElement)("span",{className:"trigger-count"},e.triggerCount," triggers configured"),(0,a.createElement)("span",{className:"status "+(e.enabled?"active":"inactive")},e.enabled?"Active":"Inactive")))))))},g=()=>(0,a.createElement)("div",{className:"echodash-notifications"}),d=()=>(0,a.createElement)(o,null,(0,a.createElement)("div",{className:"echodash-react-app"},(0,a.createElement)(g,null),(0,a.createElement)(c,null)));window.wp["components/buildStyle/style.css"],document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("echodash-react-app");e&&(0,r.H)(e).render((0,a.createElement)(d,null))})})();