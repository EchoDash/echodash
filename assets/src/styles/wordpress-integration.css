/**
 * WordPress Integration Styles
 * 
 * Styles for EchoDash React components that integrate seamlessly 
 * with WordPress admin interface.
 */

/* WordPress Admin Theme Variables */
:root {
	--wp-admin-theme-color: #0073aa;
	--wp-admin-theme-color-darker-10: #005a87;
	--wp-admin-theme-color-darker-20: #004065;
	--wp-admin-border-color: #c3c4c7;
	--wp-admin-background-color: #f0f0f1;
	--wp-admin-text-color: #1d2327;
	--wp-admin-text-color-light: #646970;
	--wp-success-color: #00a32a;
	--wp-warning-color: #f56e28;
	--wp-error-color: #d63638;
	--wp-info-color: #72aee6;
}

/* EchoDash Component Base Styles */
.ecd-button.is-primary {
	background-color: var(--wp-admin-theme-color);
	border-color: var(--wp-admin-theme-color);
}

.ecd-button.is-primary:hover {
	background-color: var(--wp-admin-theme-color-darker-10);
	border-color: var(--wp-admin-theme-color-darker-10);
}

.ecd-button.is-primary:focus {
	background-color: var(--wp-admin-theme-color-darker-10);
	border-color: var(--wp-admin-theme-color-darker-10);
	box-shadow: 0 0 0 1px var(--wp-admin-theme-color);
}

.ecd-button.is-loading {
	position: relative;
	color: transparent;
}

.ecd-button.is-loading::after {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: 16px;
	height: 16px;
	border: 2px solid currentColor;
	border-top-color: transparent;
	border-radius: 50%;
	animation: ecd-spin 0.8s linear infinite;
}

@keyframes ecd-spin {
	to {
		transform: translate(-50%, -50%) rotate(360deg);
	}
}

/* Card Styles */
.ecd-card {
	background: #fff;
	border: 1px solid var(--wp-admin-border-color);
	box-shadow: 0 1px 1px rgba(0, 0, 0, 0.04);
	border-radius: 4px;
	transition: all 0.15s ease-in-out;
}

.ecd-card:hover {
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
}

.ecd-card-header {
	border-bottom: 1px solid #f0f0f1;
	padding: 16px 20px;
}

.ecd-card-body {
	padding: 20px;
}

/* Form Control Styles */
.ecd-text-control-wrapper,
.ecd-select-control-wrapper {
	margin-bottom: 16px;
}

.ecd-text-control-wrapper.has-error .ecd-text-control input,
.ecd-select-control-wrapper.has-error .ecd-select-control select {
	border-color: var(--wp-error-color);
	box-shadow: 0 0 0 1px var(--wp-error-color);
}

.ecd-field-error {
	margin-top: 4px;
	color: var(--wp-error-color);
	font-size: 12px;
	line-height: 1.4;
}

.ecd-text-control label,
.ecd-select-control label {
	font-weight: 600;
	color: var(--wp-admin-text-color);
}

/* Status Badge Styles */
.ecd-status-badge {
	display: inline-flex;
	align-items: center;
	padding: 4px 8px;
	border-radius: 12px;
	font-size: 11px;
	font-weight: 500;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.ecd-status-badge.is-active,
.ecd-status-badge.is-enabled,
.ecd-status-badge.is-success {
	background-color: #d7eddb;
	color: #2e7d32;
}

.ecd-status-badge.is-inactive,
.ecd-status-badge.is-disabled {
	background-color: #f3f4f6;
	color: #6b7280;
}

.ecd-status-badge.is-error {
	background-color: #fed7d7;
	color: #c53030;
}

.ecd-status-badge.is-warning {
	background-color: #fef3cd;
	color: #b45309;
}

/* Integration Grid Styles */
.ecd-integration-grid-container {
	margin-top: 20px;
}

.ecd-integration-controls {
	margin-bottom: 20px;
	padding: 16px;
	background: #fff;
	border: 1px solid var(--wp-admin-border-color);
	border-radius: 4px;
}

.ecd-integration-search {
	min-width: 300px;
}

.ecd-filter-controls .components-select-control {
	min-width: 140px;
}

.ecd-integration-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
	gap: 20px;
	margin-bottom: 20px;
}

/* Integration Card Styles */
.ecd-integration-card {
	transition: all 0.15s ease-in-out;
}

.ecd-integration-card:hover {
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.ecd-integration-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 32px;
	height: 32px;
	border-radius: 4px;
	background-color: #f0f0f1;
}

.ecd-integration-icon-img {
	max-width: 100%;
	max-height: 100%;
	object-fit: contain;
}

.ecd-integration-name {
	font-size: 16px;
	font-weight: 600;
	color: var(--wp-admin-text-color);
	margin: 0;
}

.ecd-integration-description {
	font-size: 13px;
	color: var(--wp-admin-text-color-light);
	margin: 4px 0 0 0;
	line-height: 1.4;
}

.ecd-integration-footer {
	margin-top: 12px;
}

.ecd-integration-stats {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.ecd-trigger-count {
	font-size: 13px;
	color: var(--wp-admin-text-color-light);
}

.ecd-configure-button {
	flex-shrink: 0;
}

/* Empty State Styles */
.ecd-empty-state {
	padding: 60px 20px;
	text-align: center;
}

.ecd-empty-state-icon {
	opacity: 0.5;
}

.ecd-empty-state-title {
	font-size: 18px;
	color: var(--wp-admin-text-color);
	margin: 0 0 8px 0;
}

.ecd-empty-state-description {
	color: var(--wp-admin-text-color-light);
	margin: 0 0 20px 0;
}

/* Loading State Styles */
.ecd-loading-state {
	padding: 60px 20px;
	text-align: center;
}

.ecd-loading-message {
	color: var(--wp-admin-text-color-light);
	margin: 0;
}

/* Page Header Styles */
.ecd-page-header {
	margin-bottom: 30px;
}

.ecd-page-title {
	font-size: 23px;
	font-weight: 400;
	color: var(--wp-admin-text-color);
	margin: 0 0 8px 0;
}

.ecd-page-subtitle {
	color: var(--wp-admin-text-color-light);
	margin: 0;
	font-size: 14px;
}

/* Notice Styles */
.ecd-notice {
	margin: 16px 0;
}

/* Modal Styles */
.ecd-modal .components-modal__content {
	padding: 0;
}

.ecd-modal .components-modal__header {
	border-bottom: 1px solid var(--wp-admin-border-color);
	padding: 16px 24px;
}

/* Event Mapper Styles */
.ecd-event-mapper {
	margin-top: 20px;
}

.ecd-event-mapper-header {
	background-color: #f8f9fa;
	border-bottom: 1px solid var(--wp-admin-border-color);
	margin-bottom: 16px;
}

.ecd-available-fields {
	margin-bottom: 16px;
}

.ecd-available-fields-content {
	padding: 12px;
}

.ecd-merge-tags {
	display: flex;
	flex-wrap: wrap;
	gap: 6px;
	margin-top: 8px;
}

.ecd-merge-tag {
	background-color: #e7f3ff;
	color: #0073aa;
	padding: 2px 6px;
	border-radius: 3px;
	font-size: 11px;
	font-family: monospace;
}

.ecd-more-fields {
	color: var(--wp-admin-text-color-light);
	font-size: 11px;
}

.ecd-mappings-list {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.ecd-mapping-row {
	border: 1px solid #e0e0e0;
}

.ecd-mapping-row-content {
	align-items: flex-end;
}

.ecd-required-toggle.is-required {
	background-color: var(--wp-success-color);
	color: white;
}

.ecd-mapper-help {
	margin-top: 16px;
	padding: 12px;
	background-color: #f8f9fa;
	border-radius: 4px;
}

.ecd-mapper-help .description {
	margin: 0;
	display: flex;
	align-items: flex-start;
	gap: 8px;
}

.ecd-mapper-help code {
	background-color: #e7f3ff;
	color: #0073aa;
	padding: 1px 4px;
	border-radius: 2px;
}

/* Responsive Design */
@media (max-width: 782px) {
	.ecd-integration-grid {
		grid-template-columns: 1fr;
	}
	
	.ecd-integration-controls .components-flex {
		flex-direction: column;
		align-items: stretch;
	}
	
	.ecd-filter-controls {
		flex-direction: column;
	}
	
	.ecd-filter-controls .components-select-control {
		min-width: auto;
	}
	
	.ecd-mapping-row-content {
		flex-direction: column;
		align-items: stretch;
	}
	
	.ecd-mapping-row-content > div {
		min-width: auto !important;
	}
}

/* Skeleton Loading Styles */
.ecd-integration-card.skeleton {
	background-color: #f8f9fa;
	pointer-events: none;
}

.skeleton-header,
.skeleton-body {
	padding: 16px;
}

.skeleton-header {
	display: flex;
	align-items: center;
	gap: 12px;
	border-bottom: 1px solid #e0e0e0;
}

.skeleton-icon {
	width: 32px;
	height: 32px;
	background-color: #e0e0e0;
	border-radius: 4px;
	animation: ecd-skeleton-pulse 1.5s ease-in-out infinite;
}

.skeleton-text {
	height: 12px;
	background-color: #e0e0e0;
	border-radius: 2px;
	animation: ecd-skeleton-pulse 1.5s ease-in-out infinite;
}

.skeleton-text-large {
	height: 16px;
	width: 120px;
}

.skeleton-text-small {
	width: 80px;
	margin-top: 8px;
}

.skeleton-body .skeleton-text:first-child {
	width: 140px;
}

@keyframes ecd-skeleton-pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

/* Focus Styles for Accessibility */
.ecd-button:focus,
.ecd-text-control input:focus,
.ecd-select-control select:focus {
	outline: 2px solid var(--wp-admin-theme-color);
	outline-offset: 2px;
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
	.ecd-card {
		border-width: 2px;
	}
	
	.ecd-status-badge {
		border: 1px solid currentColor;
	}
	
	.ecd-integration-card:hover {
		border-width: 2px;
	}
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
	
	.ecd-integration-card:hover {
		transform: none;
	}
}